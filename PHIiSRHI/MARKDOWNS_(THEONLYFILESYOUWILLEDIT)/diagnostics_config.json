{
  "version": "1.0.0",
  "systemChecks": {
    "sfcDism": {
      "enabled": true,
      "runSFC": true,
      "runDISM": true,
      "dismRestoreHealthTimeout": 1800,
      "useWindowsUpdate": true,
      "maxRetries": 2
    },
    "services": {
      "enabled": true,
      "criticalServices": [
        "msiserver",
        "TrustedInstaller",
        "wuauserv",
        "CryptSvc",
        "BITS",
        "AppXSvc",
        "StateRepository",
        "AppReadiness"
      ],
      "checkInterval": 300,
      "autoRestart": true,
      "startupTypeValidation": true
    },
    "registry": {
      "enabled": true,
      "checkHives": [
        "HKLM\\SOFTWARE",
        "HKLM\\SYSTEM",
        "HKCU\\SOFTWARE"
      ],
      "repairPermissions": true,
      "backupBeforeRepair": true
    },
    "disk": {
      "enabled": true,
      "checkFileSystem": true,
      "checkBadSectors": false,
      "checkQuota": true,
      "minFreeSpaceGB": 10,
      "alertThresholdPercent": 15
    },
    "uac": {
      "enabled": true,
      "validateSettings": true,
      "recommendedLevel": 2,
      "checkVirtualization": true
    },
    "tempCleanup": {
      "enabled": true,
      "cleanWindowsTemp": true,
      "cleanUserTemp": true,
      "cleanInstallerCache": true,
      "maxFileAgeDays": 30,
      "minFreeSpaceMB": 500
    }
  },
  "installerTroubleshooting": {
    "enabled": true,
    "detectTypes": [
      "MSI",
      "NSIS",
      "Squirrel",
      "Electron",
      "InstallShield",
      "InnoSetup",
      "WiX"
    ],
    "sandboxTesting": {
      "enabled": false,
      "timeoutSeconds": 300
    },
    "eventLogCapture": {
      "enabled": true,
      "sources": [
        "Application",
        "System",
        "Setup",
        "Microsoft-Windows-AppXDeployment/Operational",
        "Microsoft-Windows-AppReadiness/Admin"
      ],
      "maxEvents": 100,
      "timeRangeHours": 24
    },
    "cbsLogAnalysis": {
      "enabled": true,
      "logPath": "%WINDIR%\\Logs\\CBS\\CBS.log",
      "maxSizeMB": 100
    },
    "groupPolicy": {
      "enabled": true,
      "checkRestrictions": true,
      "policies": [
        "DisableMSI",
        "AlwaysInstallElevated",
        "SafeForScripting"
      ]
    },
    "codeSigningValidation": {
      "enabled": true,
      "checkCertificates": true,
      "verifySmartScreen": true
    }
  },
  "automatedRepairs": {
    "enabled": true,
    "requireConfirmation": true,
    "createRestorePoint": true,
    "workflows": {
      "dismRepair": {
        "enabled": true,
        "priority": 1,
        "steps": [
          "CheckHealth",
          "ScanHealth",
          "RestoreHealth"
        ]
      },
      "serviceRepair": {
        "enabled": true,
        "priority": 2,
        "fixStartupType": true,
        "restartIfNeeded": true
      },
      "registryRepair": {
        "enabled": true,
        "priority": 3,
        "fixPermissions": true,
        "backupFirst": true
      },
      "windowsUpdate": {
        "enabled": true,
        "priority": 4,
        "installMissingUpdates": false,
        "downloadOnly": true
      },
      "componentStoreReset": {
        "enabled": false,
        "priority": 5,
        "requiresReboot": true,
        "lastResortOnly": true
      }
    }
  },
  "monitoring": {
    "enabled": true,
    "backgroundChecks": {
      "enabled": true,
      "intervalMinutes": 5,
      "lightweightMode": true
    },
    "eventLogWatcher": {
      "enabled": true,
      "criticalErrors": [
        1000,
        1001,
        1002,
        7000,
        7001,
        7022,
        7023,
        7024,
        7026,
        7031,
        7034
      ],
      "notificationMethod": "EventLog"
    },
    "diskSpace": {
      "enabled": true,
      "checkIntervalMinutes": 15,
      "warningThresholdGB": 10,
      "criticalThresholdGB": 5
    },
    "serviceCrashDetection": {
      "enabled": true,
      "autoRestart": true,
      "maxRestartAttempts": 3,
      "restartDelaySeconds": 60
    },
    "performanceCounters": {
      "enabled": true,
      "trackCPU": true,
      "trackRAM": true,
      "trackDiskIO": true,
      "sampleIntervalSeconds": 60,
      "alertThresholds": {
        "cpuPercent": 90,
        "ramPercent": 95,
        "diskQueueLength": 10
      }
    }
  },
  "reporting": {
    "enabled": true,
    "outputFormat": "HTML",
    "outputPath": "%TEMP%\\SystemDiagnostics",
    "severityLevels": {
      "critical": {
        "color": "#dc3545",
        "icon": "⚠️",
        "priority": 1
      },
      "warning": {
        "color": "#ffc107",
        "icon": "⚡",
        "priority": 2
      },
      "info": {
        "color": "#17a2b8",
        "icon": "ℹ️",
        "priority": 3
      },
      "success": {
        "color": "#28a745",
        "icon": "✓",
        "priority": 4
      }
    },
    "rootCauseAnalysis": {
      "enabled": true,
      "minConfidenceScore": 0.7,
      "maxSuggestions": 5
    },
    "includeRepairInstructions": true,
    "generatePowerShellScript": true,
    "checkRebootRequired": true,
    "emailNotifications": {
      "enabled": false,
      "smtpServer": "",
      "from": "",
      "to": "",
      "onlyOnCritical": true
    }
  },
  "advanced": {
    "parallelExecution": {
      "enabled": true,
      "maxJobs": 4
    },
    "logging": {
      "enabled": true,
      "logPath": "%TEMP%\\SystemDiagnostics\\Logs",
      "logLevel": "Verbose",
      "maxLogSizeMB": 50,
      "retentionDays": 30
    },
    "rollback": {
      "enabled": true,
      "createBackups": true,
      "backupPath": "%TEMP%\\SystemDiagnostics\\Backups",
      "maxBackups": 5
    },
    "timeout": {
      "scanTimeoutMinutes": 5,
      "repairTimeoutMinutes": 30,
      "serviceRestartTimeoutSeconds": 60
    }
  },
  "successMetrics": {
    "detectionAccuracy": 0.90,
    "repairSuccessRate": 0.80,
    "maxScanTimeMinutes": 5,
    "maxFalseAlarmRate": 0.05
  }
}
