{
  "philaunch.codegen.enabled": true,
  "philaunch.codegen.autoAnalyze": true,
  "philaunch.codegen.defaultLanguage": "PowerShell",
  "philaunch.codegen.includeTests": true,
  "philaunch.codegen.includeDocs": true,
  "philaunch.codegen.securityScan": true,
  "philaunch.codegen.outputDirectory": "./generated",

  "files.associations": {
    "*.ps1": "powershell",
    "*.psm1": "powershell",
    "*.ahk": "ahk",
    "codegen_config.json": "jsonc"
  },

  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll": true
  },

  "[powershell]": {
    "editor.tabSize": 4,
    "editor.insertSpaces": true,
    "editor.rulers": [120],
    "files.encoding": "utf8bom"
  },

  "[javascript]": {
    "editor.tabSize": 2,
    "editor.insertSpaces": true,
    "editor.rulers": [100],
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },

  "[python]": {
    "editor.tabSize": 4,
    "editor.insertSpaces": true,
    "editor.rulers": [88],
    "editor.defaultFormatter": "ms-python.python"
  },

  "[shellscript]": {
    "editor.tabSize": 2,
    "editor.insertSpaces": true,
    "editor.rulers": [100]
  },

  "powershell.codeFormatting.preset": "OTBS",
  "powershell.codeFormatting.openBraceOnSameLine": true,
  "powershell.codeFormatting.newLineAfterOpenBrace": true,
  "powershell.codeFormatting.whitespaceBeforeOpenBrace": true,
  "powershell.scriptAnalysis.enable": true,
  "powershell.scriptAnalysis.settingsPath": "codegen/config/PSScriptAnalyzerSettings.psd1",

  "javascript.validate.enable": true,
  "javascript.format.enable": true,
  "eslint.enable": true,
  "eslint.validate": ["javascript", "javascriptreact"],

  "python.linting.enabled": true,
  "python.linting.pylintEnabled": true,
  "python.linting.banditEnabled": true,
  "python.formatting.provider": "black",

  "shellcheck.enable": true,
  "shellcheck.run": "onSave",

  "tasks.version": "2.0.0",
  "tasks.tasks": [
    {
      "label": "PhiLaunch: Generate Code",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-File",
        "codegen/New-CodeFromPrompt.ps1",
        "-Prompt",
        "${input:prompt}",
        "-Language",
        "${input:language}"
      ],
      "problemMatcher": []
    },
    {
      "label": "PhiLaunch: Analyze Code",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-File",
        "codegen/Invoke-CodeAnalysis.ps1",
        "-Path",
        "${file}",
        "-SecurityScan",
        "-ComplexityMetrics"
      ],
      "problemMatcher": []
    },
    {
      "label": "PhiLaunch: Generate Tests",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-File",
        "codegen/New-TestSuite.ps1",
        "-SourcePath",
        "${file}",
        "-IncludeMocks"
      ],
      "problemMatcher": []
    }
  ],
  "inputs": [
    {
      "id": "prompt",
      "type": "promptString",
      "description": "Describe the code you want to generate"
    },
    {
      "id": "language",
      "type": "pickString",
      "description": "Target language",
      "options": ["PowerShell", "JavaScript", "Python", "Bash", "AutoHotkey"],
      "default": "PowerShell"
    }
  ]
}
